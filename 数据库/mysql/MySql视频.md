# MySql分层

连接层



服务层

提供各种用户使用的接口，如select等

提供sql优化器（Mysql  QUery Optimize）



引擎层

提供了各种数据储存方法（两种引擎：InnoDB  MyISAM），支持的引擎可以通过命令`show engines; ` 命令查看

**查看MySQL当前默认的存储引擎**

我们也可以通过下面的命令查看默认的存储引擎。

```sql
mysql> show variables like '%storage_engine%';
```





存储层

存储数据





# 索引

是帮助mysql高效获取数据的数据结构，数据结构可以为B+树（B+树中，数据都是存在叶节点中的），Hash树

索引的分类：

- 单值索引：单列，一个表可以有多个单值索引
- 唯一索引：不能重复（主键索引，主键是默认有一个索引的，并且不可以是null）
- 复合索引：多个列构成的索引，相当于二级目录

索引的弊端：

- 索引本身很大，可以存放在内存/硬盘（通常为硬盘）
- 索引不是所有的情况均适用，如少量数据，频繁更新，很少使用的字段都不适合
- 索引会降低增删改的效率

优势

- 提高查询效率
- 降低cpu使用频率（order by ..  就不用再排序了，因为索引的数据结构B+树就已经是拍好序的）